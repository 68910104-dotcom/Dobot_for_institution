## เตือน ต้องโหลด Model P2LDGAN ก่อนนะ >> https://drive.google.com/file/d/1P64Yqociu704vkBJ1HT1qfYBNqnMUPaG/view?usp=sharing
------------------------------------------------------------------------
 โครงสร้างไฟล์และโฟลเดอร์ (Project Structure)
------------------------------------------------------------------------

1. app.py
   - ไฟล์หลักสำหรับรัน Web Server (Flask)
   - จัดการ Route ต่างๆ (Upload, Process, Draw)
   - ควบคุม Thread การทำงานของหุ่นยนต์ไม่ให้หน้าเว็บค้าง

2. dobot_drawing_logic.py
   - ไฟล์ Logic หลักของการคำนวณ
   - ฟังก์ชัน Image Processing (Skeletonize, Threshold)
   - ฟังก์ชันแปลงพิกัดภาพเป็นพิกัดหุ่นยนต์ (Coordinate Mapping)
   - คำสั่งควบคุม Hardware (MoveTo, Speed)

3. dobot_calibration.json
   - ไฟล์เก็บค่าพิกัด 4 มุมของกระดาษ (Top-Left, Top-Right, Bottom-Left, Bottom-Right)
   - ไฟล์นี้จะถูกอัปเดตอัตโนมัติเมื่อกดปุ่ม "Set" หรือ "Load Config" หน้าเว็บ

4. png_to_cartoon/
   - โฟลเดอร์สำหรับโมดูล AI/Deep Learning (เช่น dfcall.py)
   - ใช้สำหรับแปลงภาพถ่ายปกติให้เป็นภาพสไตล์การ์ตูนก่อนนำมาหาเส้น

5. templates/
   - เก็บไฟล์ HTML (index.html) สำหรับแสดงผลหน้าเว็บ

6. static/
   - เก็บไฟล์ CSS, JavaScript
   - mobile_uploads/ : โฟลเดอร์เก็บรูปที่อัปโหลดเข้ามา
   - processed/      : โฟลเดอร์เก็บรูปผลลัพธ์ที่ผ่านการประมวลผลแล้ว

------------------------------------------------------------------------
 สิ่งที่ต้องเตรียม (Requirements)
------------------------------------------------------------------------
1. Hardware:
   - หุ่นยนต์ Dobot Magician
   - ปากกา และ กระดาษ
   - สายเชื่อมต่อ USB
   - คอมพิวเตอร์

2. Software & Libraries:
   - Python 3.8 ขึ้นไป
   - ติดตั้ง Library ที่จำเป็นด้วยคำสั่ง:
     pip install flask flask-cors opencv-python numpy pyserial pydobot matplotlib

------------------------------------------------------------------------
 วิธีการใช้งาน (How to Run)
------------------------------------------------------------------------

1. การเชื่อมต่อ:
   - เสียบสาย USB ระหว่าง Dobot และคอมพิวเตอร์
   - เปิดสวิตช์ Dobot ให้พร้อมทำงาน

2. รันโปรแกรม:
   - เปิด Terminal หรือ Command Prompt ที่โฟลเดอร์นี้
   - พิมพ์คำสั่ง:
     python app.py

3. เข้าใช้งานผ่านเว็บ:
   - เปิด Browser (Chrome/Edge/Safari)
   - พิมพ์ URL: http://localhost:5001
   - หรือสแกน QR Code ที่หน้า Console เพื่อเข้าใช้งานผ่านมือถือ (ต้องอยู่ WiFi วงเดียวกัน)

4. ขั้นตอนการวาด:
   4.1 กดปุ่ม "Connect Dobot"
   4.2 ทำการ Calibration (จับหัวปากกาไปที่ 4 มุมของกระดาษแล้วกด Set ในแต่ละมุม)
   4.3 อัปโหลดรูปภาพ (Upload)
   4.4 กด Process Image และปรับแต่งค่าความละเอียดเส้น
   4.5 กด Start Drawing เพื่อเริ่มวาด

------------------------------------------------------------------------
 หมายเหตุ / การแก้ปัญหาเบื้องต้น
------------------------------------------------------------------------
- หากรันแล้วขึ้น Error เรื่อง Port: ให้ลองถอดสาย USB แล้วเสียบใหม่ หรือเช็คว่ามีโปรแกรมอื่นแย่งใช้ Port อยู่หรือไม่
- หากหุ่นยนต์วาดเลยขอบกระดาษ: ให้ตรวจสอบการ Calibration ใหม่ ให้มั่นใจว่าตำแหน่ง 4 มุมถูกต้อง

- หากภาพไม่แปลงเป็นการ์ตูน: ตรวจสอบในโฟลเดอร์ `png_to_cartoon` ว่ามีไฟล์โมเดล AI ครบถ้วนหรือไม่


